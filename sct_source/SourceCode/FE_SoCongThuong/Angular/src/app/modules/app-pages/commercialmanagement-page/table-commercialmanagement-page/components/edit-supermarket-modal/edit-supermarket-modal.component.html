<ng-container *ngIf="isLoading$ | async">
    <div class="overlay-layer bg-transparent">
        <div class="spinner spinner-lg spinner-success"></div>
    </div>
</ng-container>

<ng-container *ngIf="show">
    <form action="#" class="form form-label-right" [formGroup]="formGroup">
        <div class="form-group row mb-6">
            <div class="col-lg-12 mb-6">
                <label class="form-label required fw-semibold fs-6">Địa bàn (Huyện)</label>
                <app-select-custom [width]="'100%'" [data]="districtData" [options]="options" formControlName="DistrictId" (valueChanged)="loadCommuneByDistrict($event)">
                </app-select-custom>
            </div>
            <div class="invalid-feedback d-block" *ngIf="isDefaultValue('DistrictId')">Bắt buộc</div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-12 mb-6">
                <label class="form-label required fw-semibold fs-6">Xã / Thị trấn</label>
                <app-select-custom [width]="'100%'" [data]="communeDataFilter" [options]="options" formControlName="CommuneId">
                </app-select-custom>
            </div>
            <div class="invalid-feedback d-block" *ngIf="isDefaultValue('CommuneId')">Bắt buộc</div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-12">
                <label class="form-label required fw-semibold fs-6">Địa chỉ</label>
                <input placeholder="Hãy nhập địa chỉ" type="text" class="form-control form-control-lg form-control-solid" autocomplete="off" formControlName="Address" [class.is-invalid]="isControlInvalid('Address')" [class.is-valid]="isControlValid('Address')" />
            </div>
            <div class="invalid-feedback d-block" *ngIf="controlHasError('required', 'Address')">Bắt buộc</div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-12 mb-6">
                <label class="form-label required fw-semibold fs-6">Hạng</label>
                <app-select-custom [width]="'100%'" [data]="rankData" [options]="options" formControlName="RankId">
                </app-select-custom>
            </div>
            <div class="invalid-feedback d-block" *ngIf="isDefaultValue('RankId')">Bắt buộc</div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-12 mb-6">
                <label class="form-label required fw-semibold fs-6">
                    Tính chất kinh doanh
                </label>
                <app-select-custom [width]="'100%'" [data]="businessnatureData" [options]="options" formControlName="BusinessNatureId">
                </app-select-custom>
            </div>
            <div class="invalid-feedback d-block" *ngIf="isDefaultValue('BusinessNatureId')">Bắt buộc</div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-12 mb-6">
                <label class="form-label required fw-semibold fs-6">
                    Loại hình kinh tế
                </label>
                <app-select-custom [width]="'100%'" [data]="typeofeconomicData" [options]="options" formControlName="TypeOfEconomic">
                </app-select-custom>
            </div>
            <div class="invalid-feedback d-block" *ngIf="isDefaultValue('TypeOfEconomic')">Bắt buộc</div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-6">
                <label class="form-label required fw-semibold fs-6">Điện thoại</label>
                <input placeholder="Hãy nhập số điện thoại" type="text" class="form-control form-control-lg form-control-solid" autocomplete="off" formControlName="PhoneNumber" (keypress)="prenventInputNonNumber($event)" [class.is-invalid]="isControlInvalid('PhoneNumber')"
                    [class.is-valid]="isControlValid('PhoneNumber')" />
                <div class="invalid-feedback d-block" *ngIf="controlHasError('required', 'PhoneNumber')">Bắt buộc</div>
            </div>
            <div class="col-lg-6">
                <label class="form-label">Email</label>
                <input placeholder="Hãy nhập email" type="text" class="form-control form-control-lg form-control-solid" autocomplete="off" formControlName="Email" />
                <div class="invalid-feedback d-block" *ngIf="controlHasError('email', 'Email')">Hãy nhập đúng định dạng email</div>
            </div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-12">
                <label class="form-label">Fax</label>
                <input placeholder="Hãy nhập fax" type="text" class="form-control form-control-lg form-control-solid" autocomplete="off" formControlName="Fax" />
            </div>
        </div>
        <div class="form-group row mb-6">
            <div class="col-lg-12">
                <label class="form-label">Ghi chú</label>
                <textarea placeholder="Ghi chú" rows="4" type="text" class="form-control form-control-lg form-control-solid" autocomplete="off" formControlName="Note"></textarea>
            </div>
        </div>
    </form>
</ng-container>
<div class="modal-footer">
    <button type="button" class="btn btn-light btn-elevate mr-2" (click)="modal.dismiss()">Thoát</button>
    <ng-container *ngIf="commercialmanagementData">
        <button type="submit" class="btn btn-primary btn-elevate" ngbAutofocus (click)="check_formGroup()">Xác nhận</button>
    </ng-container>
</div>